<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Ember.js - Models: Frequently Asked Questions</title>
    <meta property="st:title" content="Models: Frequently Asked Questions" />
    <link href="../../images/favicon.png" rel="icon" type="image/png" />
    <!--[if lte IE 7 ]><link href="../../stylesheets/fonts/fontello-ie7.css" rel="stylesheet" type="text/css" /><![endif]-->
    <link href="../../stylesheets/site.css" rel="stylesheet" type="text/css" />
    <link href="/blog/feed.xml" rel="alternate" type="application/atom+xml" title="Ember.js - Blog" />
    
  </head>

  <body class="guides models models_frequently-asked-questions models_frequently-asked-questions_index">

    <!--[if lt IE 9]>
      <script src="../../javascripts/common-old-ie.js" type="text/javascript"></script>
    <![endif]-->
    <!--[if gte IE 9]><!-->
      <script src="../../javascripts/common-modern.js" type="text/javascript"></script>
    <!--<![endif]-->

    <div id="header">
      <div id="wrapper">
        <a id="logo" href="http://emberjs.com/">&nbsp;</a>
        <ul id="nav">
          <li>
            <a href="http://emberjs.com/">about</a>
          </li>
          <li class="active">
            <a href="/">guides</a>
          </li>
          <li>
            <a href="http://emberjs.com/api">api</a>
          </li>
          <li>
            <a href="http://emberjs.com/community">community</a>
          </li>
          <li>
            <a href="http://emberjs.com/blog">blog</a>
          </li>
          <li>
            <a href="http://emberjs.com/builds">builds</a>
          </li>

          <li id="search">
            <form>
              <input type="text" id="st-search-input" class="st-search-input" placeholder="Search the guides"/>
            </form>
            <div id="st-results-container"></div>
          </li>
        </ul>

        <div id="github">
          <a href="https://github.com/emberjs/ember.js"><i class="icon-fork"></i>Fork Us!</a>
        </div>
      </div>
    </div>

    

    <div id="content-wrapper">
      <div id="sidebar-wrapper">
        <select class="version-select" style="width: 100%"></select>
        <div id="sidebar">

          <ol class='toc-level-0 selected'><li class='toc-level-0 '><a href="#">Getting Started</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../getting-started/">Installing Ember</a></li><li class='toc-level-1 '><a href="../../getting-started/core-concepts/">Core Concepts</a></li><li class='toc-level-1 '><a href="../../getting-started/naming-conventions/">Naming Conventions</a></li></ol></li><li class='toc-level-0 '><a href="#">The Object Model</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../object-model/classes-and-instances/">Classes and Instances</a></li><li class='toc-level-1 '><a href="../../object-model/reopening-classes-and-instances/">Reopening Classes and Instances</a></li><li class='toc-level-1 '><a href="../../object-model/computed-properties/">Computed Properties</a></li><li class='toc-level-1 '><a href="../../object-model/computed-properties-and-aggregate-data/">Computed Properties and Aggregate Data with @each</a></li><li class='toc-level-1 '><a href="../../object-model/observers/">Observers</a></li><li class='toc-level-1 '><a href="../../object-model/bindings/">Bindings</a></li><li class='toc-level-1 '><a href="../../object-model/what-do-i-use-when/">Bindings, Observers, Computed Properties: What Do I Use When?</a></li><li class='toc-level-1 '><a href="../../object-model/enumerables/">Enumerables</a></li></ol></li><li class='toc-level-0 '><a href="#">Templates</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../templates/handlebars-basics/">Handlebars Basics</a></li><li class='toc-level-1 '><a href="../../templates/the-application-template/">The Application Template</a></li><li class='toc-level-1 '><a href="../../templates/conditionals/">Conditionals</a></li><li class='toc-level-1 '><a href="../../templates/displaying-a-list-of-items/">Displaying a List of Items</a></li><li class='toc-level-1 '><a href="../../templates/binding-element-attributes/">Binding Element Attributes</a></li><li class='toc-level-1 '><a href="../../templates/binding-element-class-names/">Binding Element Class Names</a></li><li class='toc-level-1 '><a href="../../templates/links/">Links</a></li><li class='toc-level-1 '><a href="../../templates/actions/">Actions</a></li><li class='toc-level-1 '><a href="../../templates/input-helpers/">Input Helpers</a></li><li class='toc-level-1 '><a href="../../templates/development-helpers/">Development Helpers</a></li><li class='toc-level-1 '><a href="../../templates/rendering-with-helpers/">Rendering with Helpers</a></li><li class='toc-level-1 '><a href="../../templates/writing-helpers/">Writing Helpers</a></li></ol></li><li class='toc-level-0 '><a href="#">Routing</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../routing/">Introduction</a></li><li class='toc-level-1 '><a href="../../routing/defining-your-routes/">Defining Your Routes</a></li><li class='toc-level-1 '><a href="../../routing/generated-objects/">Generated Objects</a></li><li class='toc-level-1 '><a href="../../routing/specifying-a-routes-model/">Specifying a Route's Model</a></li><li class='toc-level-1 '><a href="../../routing/setting-up-a-controller/">Setting Up a Controller</a></li><li class='toc-level-1 '><a href="../../routing/rendering-a-template/">Rendering a Template</a></li><li class='toc-level-1 '><a href="../../routing/redirection/">Redirecting</a></li><li class='toc-level-1 '><a href="../../routing/specifying-the-location-api/">Specifying the URL Type</a></li><li class='toc-level-1 '><a href="../../routing/query-params/">Query Parameters</a></li><li class='toc-level-1 '><a href="../../routing/asynchronous-routing/">Asynchronous Routing</a></li><li class='toc-level-1 '><a href="../../routing/loading-and-error-substates/">Loading / Error Substates</a></li><li class='toc-level-1 '><a href="../../routing/preventing-and-retrying-transitions/">Preventing and Retrying Transitions</a></li></ol></li><li class='toc-level-0 '><a href="#">Components</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../components/">Introduction</a></li><li class='toc-level-1 '><a href="../../components/defining-a-component/">Defining a Component</a></li><li class='toc-level-1 '><a href="../../components/passing-properties-to-a-component/">Passing Properties to a Component</a></li><li class='toc-level-1 '><a href="../../components/wrapping-content-in-a-component/">Wrapping Content in a Component</a></li><li class='toc-level-1 '><a href="../../components/customizing-a-components-element/">Customizing a Component's Element</a></li><li class='toc-level-1 '><a href="../../components/handling-user-interaction-with-actions/">Handling User Interaction with Actions</a></li><li class='toc-level-1 '><a href="../../components/sending-actions-from-components-to-your-application/">Sending Actions from Components to Your Application</a></li><li class='toc-level-1 '><a href="../../components/composing-components/">Composing Components</a></li></ol></li><li class='toc-level-0 '><a href="#">Controllers</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../controllers/">Introduction</a></li><li class='toc-level-1 '><a href="../../controllers/representing-multiple-models/">Representing Multiple Models</a></li><li class='toc-level-1 '><a href="../../controllers/dependencies-between-controllers/">Managing Dependencies Between Controllers</a></li></ol></li><li class='toc-level-0 selected'><a href="#">Models</a><ol class='toc-level-1 selected'><li class='toc-level-1 '><a href="../">Introduction</a></li><li class='toc-level-1 '><a href="../defining-models/">Defining Models</a></li><li class='toc-level-1 '><a href="../creating-and-deleting-records/">Creating and Deleting Records</a></li><li class='toc-level-1 '><a href="../pushing-records-into-the-store/">Pushing Records into the Store</a></li><li class='toc-level-1 '><a href="../persisting-records/">Persisting Records</a></li><li class='toc-level-1 '><a href="../finding-records/">Finding Records</a></li><li class='toc-level-1 '><a href="../working-with-records/">Working with Records</a></li><li class='toc-level-1 '><a href="../the-rest-adapter/">The Rest Adapter</a></li><li class='toc-level-1 '><a href="../connecting-to-an-http-server/">Connecting to an HTTP Server</a></li><li class='toc-level-1 '><a href="../handling-metadata/">Handling Metadata</a></li><li class='toc-level-1 '><a href="../customizing-adapters/">Customizing Adapters</a></li><li class='toc-level-1 selected'><a href="./">Frequently Asked Questions</a></li></ol></li><li class='toc-level-0 '><a href="#">Testing</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../testing/">Introduction</a></li><li class='toc-level-1 '><a href="../../testing/acceptance/">Acceptance Tests</a></li><li class='toc-level-1 '><a href="../../testing/test-helpers/">Test Helpers</a></li><li class='toc-level-1 '><a href="../../testing/testing-user-interaction/">Testing User Interaction</a></li><li class='toc-level-1 '><a href="../../testing/unit-testing-basics/">Unit Testing Basics</a></li><li class='toc-level-1 '><a href="../../testing/unit-test-helpers/">Unit Test Helpers</a></li><li class='toc-level-1 '><a href="../../testing/testing-components/">Testing Components</a></li><li class='toc-level-1 '><a href="../../testing/testing-controllers/">Testing Controllers</a></li><li class='toc-level-1 '><a href="../../testing/testing-routes/">Testing Routes</a></li><li class='toc-level-1 '><a href="../../testing/testing-models/">Testing Models</a></li></ol></li><li class='toc-level-0 '><a href="#">Ember Inspector</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../ember-inspector/installation/">Installing the Inspector</a></li><li class='toc-level-1 '><a href="../../ember-inspector/object-inspector/">Object Inspector</a></li><li class='toc-level-1 '><a href="../../ember-inspector/view-tree/">The View Tree</a></li><li class='toc-level-1 '><a href="../../ember-inspector/routes/">Inspecting Routes</a></li><li class='toc-level-1 '><a href="../../ember-inspector/data/">Data Tab</a></li><li class='toc-level-1 '><a href="../../ember-inspector/deprecations/">Tackling Deprecations</a></li><li class='toc-level-1 '><a href="../../ember-inspector/info/">Library Info</a></li><li class='toc-level-1 '><a href="../../ember-inspector/promises/">Debugging Promises</a></li><li class='toc-level-1 '><a href="../../ember-inspector/container/">Inspecting the Container</a></li><li class='toc-level-1 '><a href="../../ember-inspector/render-performance/">Rendering Performance</a></li><li class='toc-level-1 '><a href="../../ember-inspector/troubleshooting/">Troubleshooting</a></li></ol></li><li class='toc-level-0 '><a href="#">Configuring Ember.js</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../configuring-ember/disabling-prototype-extensions/">Disabling Prototype Extensions</a></li><li class='toc-level-1 '><a href="../../configuring-ember/embedding-applications/">Embedding Applications</a></li><li class='toc-level-1 '><a href="../../configuring-ember/feature-flags/">Feature Flags</a></li></ol></li><li class='toc-level-0 '><a href="#">Understanding Ember.js</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../understanding-ember/debugging/">Debugging</a></li><li class='toc-level-1 '><a href="../../understanding-ember/run-loop/">The Run Loop</a></li><li class='toc-level-1 '><a href="../../understanding-ember/dependency-injection-and-service-lookup/">Dependency Injection & Service Lookup</a></li></ol></li><li class='toc-level-0 '><a href="#">Contributing to Ember.js</a><ol class='toc-level-1'><li class='toc-level-1 '><a href="../../contributing/adding-new-features/">Adding New Features</a></li><li class='toc-level-1 '><a href="../../contributing/repositories/">Repositories</a></li></ol></li></ol>
          <div id="back-to-top"><a id="back-top-top" href="#">&#11014; Back to Top</a></div>
        </div>
      </div>
      <div id="content" class="has-sidebar">
        <div class="chapter">
          <h1>
            Frequently Asked Questions
            <a href="https://github.com/emberjs/guides/edit/master/source/models/frequently-asked-questions.md"
               target="_blank" class="edit-page icon-pencil">Edit Page</a>
          </h1>
          <hr>

          <h4 class='anchorable-toc' id='toc_should-i-use-a-query-or-a-filter-to-search-records'>Should I use a query or a filter to search records?</h4>
<p>It depends on how many records you want to search and whether they have
been loaded into the store.</p>

<p><em>Queries</em> are useful for doing searches of hundreds, thousands, or even
millions of records. You just hand the search options to your server,
and it is responsible for handing you back the list of records that
match. Because the response from the server includes the ID of all of
the records that matched, it doesn&#39;t matter if the store hadn&#39;t loaded
them previously; it sees that they are not in the cache and can request
the records by ID if necessary.</p>

<p>The downside of queries is that they do not live update, they are
slower, and they require that your server support the kind of queries
that you wish to perform.</p>

<p>Because the server decides which records match the query, not the store,
queries do not live update. If you want to update them, you must
manually call <code>reload()</code> and wait for the server to respond. If you
create a new record on the client, it will not show up in the results
until you both save the new record to the server and reload the query
results.</p>

<p>Because the store must confer with your server to determine the results
of a query, it necessitates a network request. This can feel slow to
users, especially if they are on a slow connection or your server is
slow to respond. The typical speed of JavaScript web applications can
heighten the perceived slowness when the server must be consulted.</p>

<p>Lastly, performing queries requires collaboration between the store and
your server. By default, Ember Data will send the search options that
you pass as the body of an HTTP request to your server. If your server
does not support requests in this format, you will need to either change
your server to do so, or customize how queries are sent by creating a
custom adapter.</p>

<p><em>Filters</em>, on the other hand, perform a live search of all of the records
in the store&#39;s cache. As soon as a new record is loaded into the store,
the filter will check to see if the record matches, and if so, add it to
the array of search results. If that array is displayed in a template,
it will update automatically.</p>

<p>Filters also take into account newly created records that have not been
saved, and records that have been modified but not yet saved. If you
want records to show up in search results as soon as they are created or
modified on the client, you should use a filter.</p>

<p>Keep in mind that records will not show up in a filter if the store
doesn&#39;t know about them. You can ensure that a record is in the store by
using the store&#39;s <code>push()</code> method.</p>

<p>There is also a limit to how many records you can reasonably keep in
memory and search before you start hitting performance issues.</p>

<p>Finally, keep in mind that you can combine queries and filters to take
advantage of their respective strengths and weaknesses. Remember that
records returned by a query to the server are cached in the store. You
can use this fact to perform a filter, passing it a query that starts
matching records into the store, and a filter function that matches the
same records.</p>

<p>This will offload searching all of the possible records to the server,
while still creating a live updating list that includes records created
and modified on the client.</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay">
  <thead>
    <tr>
      <td colspan="2">app/routes/posts/favourited.js</td>
    </tr>
  </thead>
<tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
</pre></td>
  <td class="code"><pre><span class="reserved">export</span> <span class="keyword">default</span> Ember.Route.extend({
  model() {
    <span class="keyword">var</span> store = <span class="local-variable">this</span>.store;

    <span class="comment">// Create a filter for all favorited posts that will be displayed in</span>
    <span class="comment">// the template. Any favorited posts that are already in the store</span>
    <span class="comment">// will be displayed immediately;</span>
    <span class="comment">// Kick off a query to the server for all posts that</span>
    <span class="comment">// the user has favorited. As results from the query are</span>
    <span class="comment">// returned from the server, they will also begin to appear.</span>
    <span class="keyword">return</span> store.filter(<span class="string"><span class="delimiter">'</span><span class="content">post</span><span class="delimiter">'</span></span>, { <span class="key">favorited</span>: <span class="predefined-constant">true</span> }, <span class="keyword">function</span>(post) {
      <span class="keyword">return</span> post.get(<span class="string"><span class="delimiter">'</span><span class="content">isFavorited</span><span class="delimiter">'</span></span>);
    });
  }
});
</pre></td>
</tr></table>
</div></div><h4 class='anchorable-toc' id='toc_how-do-i-inform-ember-data-about-new-records-created-on-the-backend'>How do I inform Ember Data about new records created on the backend?</h4>
<p>When you request a record using Ember Data&#39;s <code>store.findRecord</code> method, Ember
will automatically load the data into the store. This allows Ember to
avoid the latency of making a round trip to the backend next time
that record is requested. Additionally, loading a record into the
store will update any <code>RecordArray</code>s (e.g. the result of
<code>store.filter</code> or <code>store.findAll</code>) that should include that record. This
means any data bindings or computed properties that depend on the
<code>RecordArray</code> will automatically be synced to include the new or
updated record values.</p>

<p>Some applications may want to add or update records in the store
without requesting the record via <code>store.findRecord</code>. To accomplish this you
can use the <code>DS.Store</code>&#39;s <code>push</code> or <code>pushPayload</code>
methods. This is useful for web applications that have a channel
(such as <a href="http://dev.w3.org/html5/eventsource/">SSE</a> or
<a href="http://www.w3.org/TR/2009/WD-websockets-20091222/">Web Sockets</a>) to
notify it of new or updated records on the backend.</p>

<p><a href="http://emberjs.com/api/data/classes/DS.Store.html#method_push">push</a>
is the simplest way to load or update records in Ember Data&#39;s store.
When using <code>push</code> it is important to
<a href="http://emberjs.com/api/data/classes/DS.Store.html#method_normalize">normalize</a>
the JSON object before pushing it into the store.</p>

<p><code>push</code> only accepts one record at a time. If you would like to load an
array of records to the store you can call
<a href="http://emberjs.com/api/data/classes/DS.Store.html#method_pushMany">pushMany</a>.</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre>socket.on(<span class="string"><span class="delimiter">'</span><span class="content">message</span><span class="delimiter">'</span></span>, <span class="keyword">function</span> (message) {
  <span class="keyword">var</span> modelName = message.model;
  store.push(modelName, store.normalize(modelName, message.data));
});
</pre></td>
</tr></table>
</div></div>
<p>As of <code>v1.0.0-beta.14</code> the <code>push</code> method accepts partial attributes for
updating existing records. The <code>update</code> method is therefore deprecated.
Updating partial attributes is useful if your web application only
receives notifications of the changed attributes on a model.</p>

<p><a href="http://emberjs.com/api/data/classes/DS.Store.html#method_pushPayload">pushPayload</a>
is a convenience wrapper for <code>store#push</code> that will deserialize
payloads if the model&#39;s Serializer implements a <code>pushPayload</code>
method. It is important to note this method will not work with the
<code>JSONSerializer</code> because it does not implement a <code>pushPayload</code>
method.</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>socket.on(<span class="string"><span class="delimiter">'</span><span class="content">message</span><span class="delimiter">'</span></span>, <span class="keyword">function</span> (message) {
  store.pushPayload(message.model, message.data);
});
</pre></td>
</tr></table>
</div></div>


          
      <footer>
        <a class="previous-guide" href="../customizing-adapters/"> ← Customizing Adapters</a> <a class="next-guide" href="../../testing/">We're done with Models. Next up: Testing - Introduction →</a>
      </footer>
      
        </div>
      </div>
    </div>

    <div id="footer">
      <div id="footer-wrapper">
        <div class="info">
          Copyright 2015 <a href="http://tilde.io">Tilde Inc.</a><br>
          <a href="http://emberjs.com/team">Core Team</a> | <a href="http://emberjs.com/sponsors">Sponsors</a> | <a href="http://emberjs.com/legal">Legal</a></br>
          <a href="http://emberjs.com/guidelines">Community Guidelines</a>
        </div>
        <div class="statement">Ember.js is free, open source and always will be.</div>
        <div class="links">
          <a class="twitter" href="http://twitter.com/emberjs">
            <i class="icon-twitter"></i><span>Twitter</span>
          </a>
          <a class="github" href="https://github.com/emberjs/ember.js">
            <i class="icon-github"></i><span>GitHub</span>
          </a>
          <a class="googleplus" href="https://plus.google.com/communities/106387049790387471205">
            <i class="icon-gplus"></i><span>Google+</span>
          </a>
        </div>
      </div>
    </div>

    

    <script src="../../javascripts/guides.js" type="text/javascript"></script>
    <script src="http://static.jsbin.com/js/embed.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-27675533-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
